@import 'reset.styl'
@import 'fonts.styl'
@import 'grid.styl'
@import 'variables.styl'

html
  background: bg-color
  color: text-color-body
  font-family: font-stack
  font-size: font-size
  -moz-osx-font-smoothing: grayscale
  -webkit-font-smoothing: antialiased

body
  background: page-color
  border-top-left-radius: page-corner-radius
  border-top-right-radius: page-corner-radius
  box-sizing: border-box
  margin: page-top-margin auto 0
  padding: page-vert-padding page-horz-padding (page-vert-padding / 2)
  width: page-width
  
h1, h2, h3, h4, h5, h6, button {
  letter-spacing: letter-spacing
}

p
  line-height: line-height
  margin-bottom: unit * 3
  
  &:last-child
    margin-bottom: 0
  
ul
  font-size: font-size-med
  list-style-type: none

.project > img
  margin-bottom: unit * 3

.page > header
  margin-bottom: page-vert-padding

  .picture
    avatar-diameter = avatar-radius * 2
    
    background-image: avatar-url
    background-size: avatar-diameter avatar-diameter
    border-radius: avatar-radius
    display: block
    height: avatar-diameter
    margin: 0 auto
    text-indent: -9999px
    width: avatar-diameter

section
  clear: both
  margin-bottom: page-vert-padding

  header
    margin-bottom: page-vert-padding
    text-align: center
    
  img
    margin-top: page-vert-padding

h2
  font-size: font-size-med
  font-weight: font-weight-med
  display: inline
  width: auto
  
  &.underlined
    background-image: url('images/underline.png')
    background-repeat: repeat-x
    background-position: 0px 22px
    background-size: 9px 3px
    padding-bottom: 6px
    

.callout
  display: flex
  flex-direction: row
  margin-bottom: margin

  img
    border-radius: 40px
    height: 80px
    margin: 0
    width: 80px

  .bubble
    background-color: card-color
    border-radius: corner-radius
    box-sizing: border-box
    display: flex
    height: 80px
    margin-right: (unit * 2)
    padding: (unit * 2)
    position: relative
    text-align: center

    &:after
      content: ''
      position: absolute
      right: 0
      top: 50%
      width: 0
      height: 0
      border: 10px solid transparent
      border-left-color: card-color
      border-right: 0
      margin-top: -10px
      margin-right: -10px

    p
      color: text-color-body
      font-size: font-size
      font-weight: font-weight-med
      margin: auto
      text-align: center

vert-padding = (page-vert-padding / 4)

.project
  margin-bottom: (unit * 8)

  &:hover button
    opacity: 1

  & > a
    display: block
    margin-bottom: (unit * 2)
    
  button
    opacity: 0
    transition: opacity 0.18s ease-in-out

  h3
    color: accent-color
    font-size: font-size-large
    font-weight: font-weight-med
    
  p
    color: text-color-body
    font-size: font-size
    line-height: line-height
    
  .name-line
    display: flex
    margin-bottom: unit
    
    .info
      align-items: center
      display: flex
      margin-top: (unit / -4)
      flex-grow: 1

      a
        display: flex

        h3
          margin: auto 0

    .action
      align-items: flex-start
      display: flex
      justify-content: flex-end

.placeholder
  background: grey-color
  border-radius: corner-radius
  height: 230px

button
  border: none
  border-radius: corner-radius
  display: block
  font: font-weight-med font-size font-stack
  letter-spacing: letter-spacing
  padding: (unit) (unit * 1.5)
  transition: background-color 0.12s ease-in-out,
              color 0.12s ease-in-out

  &:hover
    cursor: pointer

  &.grey
    background-color: grey-color
    color: text-color-body

    &:hover
      color: darken(text-color-body, 4%)
      background-color: darken(grey-color, 4%)
  
  &.blue
    background-color: twitter-button-color
    color: twitter-text-color

.social
  display: block

  .buttons
    display: flex

    button
      height: (unit * 6)

      &.blue
        margin-right: (unit * 2)
        width: (unit * 28)

      &.grey
        width: (unit * 14)

.cv
  margin-bottom: margin
  
  .bio
    margin-bottom: margin

    a
      color: accent-color
      font-weight: font-weight-med
    
      &:hover
        text-decoration: underline
    
    em
      color: accent-color
      font-style: normal
      font-weight: font-weight-med
      display: inline
    
    p
      color: text-color-body
      font-size: font-size-med
      line-height: line-height
      margin-bottom: (unit * 2)

      &:last-child
        margin-bottom: 0

  .history
    float: right

h3 
  color: text-color-light
  font-weight: font-weight-med
  font-size: font-size-med
  margin-bottom: margin

.history
  h3
    margin-bottom: (unit * 2)
  h4
    font-weight: font-weight-med
    margin-bottom: (unit / 2)

  li
    margin-bottom: (unit * 2)

  .years
    color: text-color-light

.facebook
  color: facebook-color

.pinterest
  color: pinterest-color

.cmu
  color: cmu-color

h = 110px
p = (unit * 3)

.mention
  background: card-color
  cursor: pointer
  transition: background 0.2s ease-in-out
  
  &:hover
    background: darken(#f7f7f7, 2%)
  
  &:nth-child(odd)
    float: left
    margin-right: page-horz-padding
  
  a
    display: flex
    flex-direction: column
    min-height: (h - (p * 2))
 
  h4
    display: block
    flex-grow: 2
    font-size: font-size
    line-height: line-height
    
    cite
      font-style: normal
  
  footer
    color: #ccc
    flex-grow: 0
    font-size: font-size
    font-weight: font-weight-med
    
    .source:after
      content: " · "

    .source-type:after
      content: " · "
    
.card
  border-radius: corner-radius
  box-sizing: border-box
  margin-bottom: page-horz-padding
  padding: p

  a:hover
    text-decoration: none

@media
(-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi)
  h2.underlined
    background-image: url('images/underline@2x.png')
    background-position: 0px 22px
    background-size: 9px 3px

/**
  @media (min-width: screen-sm-min)
    .Layout
      width: screen-sm-min - 18px

  @media (min-width: screen-md-min)
    .Layout
      width: screen-md-min - 22px

  @media (min-width: screen-lg-min)
    .Layout
      width: screen-lg-min - 30px
**/